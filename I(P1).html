<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/2.0.7/apexcharts.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap-grid.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
    <title>Document</title>
</head>






<body>

        <div class="row">
            <div class="col col-xl-4 col-lg-4" style="height:400px">
                
                            <button id="mulund"type="button" class="btn btn-outline-primary">Mulund</button>
                            <button id="nahur" type="button" class="btn btn-outline-primary">Nahur</button>
                        
                       

        </div>

                <div class="col col-xl-8 col-lg-8" >
        
                        <div id="chart" style="border-right: solid 1px #ccc"></div>
        
                </div>
        
                <div class="col col-xl-4 col-lg-4"  style="">
        
                    <ul class="list-group">
                        <li id="1" class="list-group-item">Mulund East</li>
                        <li id="2" class="list-group-item">Mulund West</li>
                        <li id="3" class="list-group-item">Ghatkopar East</li>
                        <li id="4" class="list-group-item">Ghatkopar West</li>
                        <li id="5" class="list-group-item">Bhandup East</li>
                        <button id="submit">Submit</button>
                      </ul>
    
            </div>

           

                <div class="col col-8 col-lg-8"  style="margin-top:-80px">
        
                    <div id="barChart" style="margin-left: 15px"></div>
    
            </div>

        
                
       

</div>
   
    
</body>


<style>

.list-group-item:hover{
    background-color: red;
}

</style>

<script>
   

    //   $(".list-group-item").on("click",function(e) {
    //     e.preventDefault();
    //     var active = false;
    //    if(!active){
    //       $(this).addClass("list-group-item active")
    //       active = false;
    //    }else if(active){
    //     $(this).addClass("list-group-item") 
    //     active = true;
    //    }     
    // })

var storesIds = [];
    
 $(".list-group-item").on("click",function(e) {
        e.preventDefault();
        var ID = parseInt($(this).attr('id'));
        if(storesIds.includes(ID)){
           var idIndex = storesIds.indexOf(ID) 
           storesIds.splice(idIndex,1)
           console.log(storesIds);
              
        }else{
            storesIds.push(ID)
            console.log(storesIds);   
        }  
        var data = {storesIDs: storesIds};

        console.log(data);

var data = {storesIDs: storesIds};

  
 })

var data = storesIds;

var test = "testValue";

$("#submit").on("click",function(){  
fetch('http://localhost:3000/storewise', {
  method: 'POST', 
  body:"storesIds="+storesIds+"",
  headers:{
    'Content-Type': 'application/x-www-form-urlencoded'
  }
}).then(res => res.json())
.then(response => console.log(response))
.catch(error => console.error('Error:', error)); 
})
  



</script>


<script>

var options = {
            chart: {
                height: 300,
                type: 'bar',
                stacked: true,
                stackType: '100%'
            },
            plotOptions: {
                bar: {
                    horizontal: true,
                },
                
            },
            stroke: {
                width: 0.5,
                colors: ['#fff']
            },
            series: [{
                name: 'Marine Sprite',
                data: [44]
            },{
                name: 'Striking Calf',
                data: [53]
            },{
                name: 'Reborn Kid',
                data: [25]
            }],
            colors:["#39afd1","#0acf97","#03eee3"]
            ,
            title: {
                text: '100% Stacked Bar'
            },
            xaxis: {
                categories: [2008],
            },
          
            tooltip: {
                    y: {
                        formatter: function(val) {
                        return val + "K"
                    }
                }
            },
            fill: {
                opacity: 1
                
            },
            
            legend: {
                position: 'top',
                horizontalAlign: 'left',
                offsetX: 40
            }
        }

       var chart = new ApexCharts(
            document.querySelector("#barChart"),
            options
        );
        
        chart.render();

   var options = {
            chart: {
                type: 'donut',
            },
            series: [44, 55, 41],
            colors:["#39afd1","#0acf97","#03eee3"]
           

        }

       var chart = new ApexCharts(
            document.querySelector("#donutChart"),
            options
        );
        
        chart.render();

     var options = {
            chart: {
                height: 300,
                type: 'bar',
                stacked: true,
                stackType: '100%'
                
            },
            responsive: [{
                breakpoint: 700,
                options: {
                    legend: {
                        position: 'bottom',
                        offsetX: -10,
                        offsetY: 0
                    }
                }
            }],
            series: [{
                name: 'PRODUCT A',
                data: [44, 55, 41, 67, 22, 43, 21, 49]
            },{
                name: 'PRODUCT B',
                data: [13, 23, 20, 8, 13, 27, 33, 12]
            },{
                name: 'PRODUCT C',
                data: [11, 17, 15, 15, 21, 14, 15, 13]
            }],
            xaxis: {
                categories: ['2011 Q1', '2011 Q2', '2011 Q3', '2011 Q4', '2012 Q1', '2012 Q2', '2012 Q3', '2012 Q4'],
            },
            colors:["#39afd1","#0acf97","#03eee3"],
            fill: {
                opacity: 1
            },
            
            legend: {
                position: 'right',
                verticalAlign: 'top',
                offsetX: 0,
                offsetY: 50
            },
        }

       var chart = new ApexCharts(
            document.querySelector("#chart"),
            options
        );
        
        chart.render();
</script>
</html>